(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{270:function(t,n,e){"use strict";e(129),e(271);var a=e(279),f=e.n(a),r=e(280),h=e.n(r),i=e(281),v=e.n(i),o=e(282),d=e.n(o),c=e(283),k=e.n(c),s=e(284),u=e.n(s),l=e(285),p=e.n(l),w=e(286),_=e.n(w),m=e(287),y=e.n(m),I=e(266),x=e.n(I),g=(e(264),e(267)),b=e.n(g),D=e(36),P=e.n(D),A=e(37),S=e.n(A),C=e(38),T=e.n(C),H=e(39),L=e.n(H),j=e(40),E=e.n(j),F=e(0),N=e.n(F);function O(n,t){var e=_()(n);if(p.a){var a=p()(n);t&&(a=u()(a).call(a,function(t){return k()(n,t).enumerable})),e.push.apply(e,a)}return e}var J=null,M=!1,R=!1,U=function U(){J&&J.getInitialProps&&(M=!0,R&&J.getInitialProps())};n.a=function(p){return function(t){function e(t){var n;return P()(this,e),(n=T()(this,L()(e).call(this,t))).state={initialData:{},canClientFetch:!1},n}var n,a,r;return E()(e,t),S()(e,[{key:"getInitialProps",value:(r=b()(x.a.mark(function o(){var n,e,a,r,i;return x.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.props,e=n.match,a=n.location,p.getInitialProps)return t.next=4,p.getInitialProps({match:e,location:a});t.next=7;break;case 4:t.t0=t.sent,t.next=8;break;case 7:t.t0={};case 8:r=t.t0,this.setState({initialData:r,canClientFetch:!0}),(i=r.page.tdk)&&(document.title=i.title);case 13:case"end":return t.stop()}},o,this)})),function i(){return r.apply(this,arguments)})},{key:"componentDidMount",value:(a=b()(x.a.mark(function c(){return x.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(R=!0,window.__IS__SSR__&&(J=this,window.addEventListener("popstate",U),M&&this.getInitialProps()),this.props.history&&"PUSH"===this.props.history.action||!window.__IS__SSR__)return t.next=7,this.getInitialProps();t.next=7;break;case 7:case"end":return t.stop()}},c,this)})),function s(){return a.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){R=M=!1}},{key:"render",value:function(){var t=function i(n){for(var t=1;t<arguments.length;t++){var e,a=null!=arguments[t]?arguments[t]:{};if(t%2)d()(e=O(Object(a),!0)).call(e,function(t){y()(n,t,a[t])});else if(v.a)h()(n,v()(a));else{var r;d()(r=O(Object(a))).call(r,function(t){f()(n,t,k()(a,t))})}}return n}({initialData:{}},this.props);return this.state.canClientFetch?t.initialData=this.state.initialData||{}:(t.initialData=window.__INITIAL_DATA__,window.__INITIAL_DATA__=null),N.a.createElement(p,t)}}],[{key:"getInitialProps",value:(n=b()(x.a.mark(function u(n){return x.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(p.getInitialProps)return t.next=3,p.getInitialProps(n);t.next=6;break;case 3:t.t0=t.sent,t.next=7;break;case 6:t.t0={};case 7:return t.abrupt("return",t.t0);case 8:case"end":return t.stop()}},u)})),function l(t){return n.apply(this,arguments)})}]),e}(N.a.Component)}},272:function(t,n,e){"use strict";n.a={apiHost:"http://mockssr.bigerfe.com"}},358:function(t,n,e){t.exports=e(359)},359:function(t,n,e){var a=e(360);t.exports=a},360:function(t,n,e){var a=e(361),r=Array.prototype;t.exports=function(t){var n=t.concat;return t===r||t instanceof Array&&n===r.concat?a:n}},361:function(t,n,e){e(142);var a=e(130);t.exports=a("Array").concat},363:function(t,n,e){"use strict";e.r(n);e(129),e(271);var a=e(266),o=e.n(a),r=(e(264),e(267)),c=e.n(r),i=e(36),s=e.n(i),u=e(37),l=e.n(u),p=e(38),f=e.n(p),h=e(39),v=e.n(h),d=e(40),k=e.n(d),w=e(0),_=e.n(w),m=e(358),y=e.n(m),I=e(288),x=e.n(I),g=e(272),b=e(270),D=(e(261),function(t){function n(t){return s()(this,n),f()(this,v()(n).call(this,t))}var e;return k()(n,t),l()(n,[{key:"render",value:function(){var t=(this.props.initialData||{}).fetchData,n=((void 0===t?{}:t)||null).html;return n?_.a.createElement("div",{className:"detail-box",dangerouslySetInnerHTML:{__html:n}}):null}}],[{key:"getInitialProps",value:(e=c()(o.a.mark(function i(a){var r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n=a.match.params.id,e=void 0,x.a.get(y()(e="".concat(g.a.apiHost,"/detail/")).call(e,n)).then(function(t){return t.data})["catch"](function(t){});case 2:return r=t.sent,t.abrupt("return",{fetchData:r.data||{},page:{tdk:{title:"小册详情 - koa-react-ssr demo",keywords:"koa-react-ssr",description:"koa-react-ssr"}}});case 4:case"end":return t.stop()}var n,e},i)})),function a(t){return e.apply(this,arguments)})}]),n}(_.a.Component));n["default"]=Object(b.a)(D)}}]);