(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[1],{

/***/ "./src/client/common/components/iso-connect/index.js":
/*!***********************************************************!*\
  !*** ./src/client/common/components/iso-connect/index.js ***!
  \***********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(module) {/* harmony import */ var _page_container_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../page-container/index */ \"./src/client/common/components/page-container/index.js\");\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-redux */ \"./node_modules/react-redux/es/index.js\");\n/* harmony import */ var isomorphic_style_loader_withStyles__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! isomorphic-style-loader/withStyles */ \"./node_modules/isomorphic-style-loader/withStyles.js\");\n/* harmony import */ var isomorphic_style_loader_withStyles__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(isomorphic_style_loader_withStyles__WEBPACK_IMPORTED_MODULE_2__);\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\n\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {\n  return a;\n};\n\n\n\n\n\nvar _default = function _default(_ref, ActiveComponet) {\n  var css = _ref.css,\n      mapStateToProps = _ref.mapStateToProps,\n      mapDispatchToProps = _ref.mapDispatchToProps;\n  return isomorphic_style_loader_withStyles__WEBPACK_IMPORTED_MODULE_2___default()(css)(Object(react_redux__WEBPACK_IMPORTED_MODULE_1__[\"connect\"])(mapStateToProps, mapDispatchToProps)(Object(_page_container_index__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(ActiveComponet)));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (_default);\n;\n\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(_default, \"default\", \"C:\\\\fe\\\\koa-react-ssr\\\\packages\\\\my-react-ssr-redux\\\\src\\\\client\\\\common\\\\components\\\\iso-connect\\\\index.js\");\n})();\n\n;\n\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../../../node_modules/webpack/buildin/harmony-module.js */ \"./node_modules/webpack/buildin/harmony-module.js\")(module)))\n\n//# sourceURL=webpack:///./src/client/common/components/iso-connect/index.js?");

/***/ }),

/***/ "./src/client/common/components/page-container/index.js":
/*!**************************************************************!*\
  !*** ./src/client/common/components/page-container/index.js ***!
  \**************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(module) {/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"./node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"./node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"./node_modules/@babel/runtime/helpers/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"./node_modules/@babel/runtime/helpers/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ \"./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\");\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"./node_modules/@babel/runtime/helpers/getPrototypeOf.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ \"./node_modules/@babel/runtime/helpers/inherits.js\");\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__);\n\n\n\n\n\n\n\n\n\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {\n  return a;\n};\n\n//高阶组件 用于提取重复逻辑\n\nvar _this = null;\n\nvar popStateCallback = function popStateCallback() {\n  // 使用popStateFn保存函数防止addEventListener重复注册\n  if (_this && _this.getInitialProps) {\n    console.log('popStateFn');\n\n    _this.getInitialProps();\n  }\n};\n\nvar _default = function _default(SourceComponent) {\n  return (\n    /*#__PURE__*/\n    function (_React$Component) {\n      _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7___default()(HoComponent, _React$Component);\n\n      function HoComponent(props, context) {\n        var _this2;\n\n        _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3___default()(this, HoComponent);\n\n        _this2 = _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default()(this, _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default()(HoComponent).call(this, props));\n        console.log('props', props);\n        _this2.state = {\n          initialData: {},\n          canClientFetch: false //浏览器端是否需要请求数据\n\n        };\n        return _this2;\n      } //用于服务端调用\n\n\n      _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4___default()(HoComponent, [{\n        key: \"getInitialProps\",\n        //用于封装处理\n        value: function () {\n          var _getInitialProps = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(\n          /*#__PURE__*/\n          _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee() {\n            var props, store, res, tdk;\n            return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {\n              while (1) {\n                switch (_context.prev = _context.next) {\n                  case 0:\n                    // ssr首次进入页面以及csr/ssr切换路由时才调用组件的getInitialProps方法\n                    props = this.props;\n                    store = window.__STORE__; //从全局得到 store \n                    //兼容不使用 redux 的页面\n\n                    if (!props.getInitialData) {\n                      _context.next = 8;\n                      break;\n                    }\n\n                    _context.next = 5;\n                    return props.getInitialData(store.dispatch);\n\n                  case 5:\n                    _context.t0 = _context.sent;\n                    _context.next = 16;\n                    break;\n\n                  case 8:\n                    if (!SourceComponent.getInitialProps) {\n                      _context.next = 14;\n                      break;\n                    }\n\n                    _context.next = 11;\n                    return SourceComponent.getInitialProps();\n\n                  case 11:\n                    _context.t1 = _context.sent;\n                    _context.next = 15;\n                    break;\n\n                  case 14:\n                    _context.t1 = {};\n\n                  case 15:\n                    _context.t0 = _context.t1;\n\n                  case 16:\n                    res = _context.t0;\n                    // this.setState({\n                    //     initialData: res,\n                    //     canClientFetch: true\n                    // });\n                    tdk = res.page.tdk;\n\n                    if (tdk) {\n                      document.title = tdk.title;\n                    }\n\n                  case 19:\n                  case \"end\":\n                    return _context.stop();\n                }\n              }\n            }, _callee, this);\n          }));\n\n          function getInitialProps() {\n            return _getInitialProps.apply(this, arguments);\n          }\n\n          return getInitialProps;\n        }()\n      }, {\n        key: \"componentDidMount\",\n        value: function () {\n          var _componentDidMount = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(\n          /*#__PURE__*/\n          _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee2() {\n            var canClientFetch;\n            return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee2$(_context2) {\n              while (1) {\n                switch (_context2.prev = _context2.next) {\n                  case 0:\n                    _this = this; // 修正_this指向，保证_this指向当前渲染的页面组件\n                    //注册事件，用于在页面回退的时候触发\n\n                    window.addEventListener('popstate', popStateCallback);\n                    canClientFetch = this.props.history && this.props.history.action === 'PUSH'; //路由跳转的时候可以异步请求数据\n\n                    console.log('canClientFetch', canClientFetch);\n\n                    if (!canClientFetch) {\n                      _context2.next = 7;\n                      break;\n                    }\n\n                    _context2.next = 7;\n                    return this.getInitialProps();\n\n                  case 7:\n                  case \"end\":\n                    return _context2.stop();\n                }\n              }\n            }, _callee2, this);\n          }));\n\n          function componentDidMount() {\n            return _componentDidMount.apply(this, arguments);\n          }\n\n          return componentDidMount;\n        }()\n      }, {\n        key: \"render\",\n        value: function render() {\n          // 只有在首次进入页面需要将window.__INITIAL_DATA__作为props，路由切换时不需要\n          console.log('com render');\n\n          var props = _objectSpread({\n            initialData: {}\n          }, this.props); //客户端渲染\n\n\n          if (this.state.canClientFetch) {\n            //需要异步请求数据\n            props.initialData = this.state.initialData || {};\n          } else {\n            props.initialData = this.props.initialData;\n          }\n\n          return react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(SourceComponent, props);\n        }\n      }, {\n        key: \"__reactstandin__regenerateByEval\",\n        // @ts-ignore\n        value: function __reactstandin__regenerateByEval(key, code) {\n          // @ts-ignore\n          this[key] = eval(code);\n        }\n      }], [{\n        key: \"getInitialProps\",\n        value: function () {\n          var _getInitialProps2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(\n          /*#__PURE__*/\n          _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee3(ctx) {\n            return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee3$(_context3) {\n              while (1) {\n                switch (_context3.prev = _context3.next) {\n                  case 0:\n                    if (!SourceComponent.getInitialProps) {\n                      _context3.next = 6;\n                      break;\n                    }\n\n                    _context3.next = 3;\n                    return SourceComponent.getInitialProps(ctx);\n\n                  case 3:\n                    _context3.t0 = _context3.sent;\n                    _context3.next = 7;\n                    break;\n\n                  case 6:\n                    _context3.t0 = {};\n\n                  case 7:\n                    return _context3.abrupt(\"return\", _context3.t0);\n\n                  case 8:\n                  case \"end\":\n                    return _context3.stop();\n                }\n              }\n            }, _callee3);\n          }));\n\n          function getInitialProps(_x) {\n            return _getInitialProps2.apply(this, arguments);\n          }\n\n          return getInitialProps;\n        }()\n      }]);\n\n      return HoComponent;\n    }(react__WEBPACK_IMPORTED_MODULE_8___default.a.Component)\n  );\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (_default);\n;\n\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(_this, \"_this\", \"C:\\\\fe\\\\koa-react-ssr\\\\packages\\\\my-react-ssr-redux\\\\src\\\\client\\\\common\\\\components\\\\page-container\\\\index.js\");\n  reactHotLoader.register(popStateCallback, \"popStateCallback\", \"C:\\\\fe\\\\koa-react-ssr\\\\packages\\\\my-react-ssr-redux\\\\src\\\\client\\\\common\\\\components\\\\page-container\\\\index.js\");\n  reactHotLoader.register(_default, \"default\", \"C:\\\\fe\\\\koa-react-ssr\\\\packages\\\\my-react-ssr-redux\\\\src\\\\client\\\\common\\\\components\\\\page-container\\\\index.js\");\n})();\n\n;\n\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../../../node_modules/webpack/buildin/harmony-module.js */ \"./node_modules/webpack/buildin/harmony-module.js\")(module)))\n\n//# sourceURL=webpack:///./src/client/common/components/page-container/index.js?");

/***/ })

}]);